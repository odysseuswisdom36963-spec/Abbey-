<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Text Grid Viewer</title>
<style>
  /* ðŸŒŒ Basic layout and theme */
  body {
    background: #0f1724;
    color: #eee;
    font-family: Arial, sans-serif;
    margin: 0;
  }

  /* ðŸ§­ Toolbar */
  #toolbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: #1a2332;
    padding: 10px;
    display: flex;
    align-items: center;
    gap: 10px;
    z-index: 10;
    border-bottom: 1px solid #333;
  }
  #search {
    flex: 1;
    padding: 6px;
    font-size: 15px;
    border: none;
    border-radius: 4px;
    background: #202c45;
    color: #fff;
  }
  #toolbar button {
    padding: 6px 10px;
    cursor: pointer;
    background: #263859;
    color: #fff;
    border: 1px solid #444;
    border-radius: 4px;
    transition: 0.2s;
  }
  #toolbar button:hover {
    background: #10b981;
    color: #000;
  }

  /* ðŸ“œ Text input area */
  textarea {
    width: 100%;
    height: 150px;
    margin-top: 60px;
    background: #162032;
    color: #eee;
    border: none;
    padding: 8px;
    font-size: 14px;
    outline: none;
    resize: vertical;
  }

  /* ðŸ§® Grid table */
  table {
    border-collapse: collapse;
    width: 100%;
    margin-top: 10px;
  }
  td {
    border: 1px solid #333;
    padding: 6px;
    text-align: center;
    cursor: pointer;
    transition: 0.2s;
  }
  td.selected {
    background: #10b981;
  }
  td.highlighted {
    background: yellow;
    color: black;
  }
  
  
  #counterBox {
  background: #1a2332;
  color: #eee;
  padding: 12px;
  margin-top: 10px;
  border-radius: 6px;
  font-family: Arial, sans-serif;
}
#counterBox span {
  font-weight: bold;
  color: #10b981;
}
button.wordBtn {
  background: #263859;
  color: #fff;
  border: none;
  border-radius: 4px;
  padding: 6px 10px;
  cursor: pointer;
  transition: 0.2s;
}
button.wordBtn:hover {
  background: #10b981;
  color: #000;
}
</style>
</head>
<body>

<!-- ðŸŒ  Floating toolbar -->
<div id="toolbar">
  <textarea id="textInput" placeholder="Paste text here..." style="width:100%;height:120px;"></textarea>
<br>
<button class="wordBtn" onclick="countWords()">Click me for Count Words</button>

<div id="counterBox">
  Total words: <span id="totalCount">0</span><br>
  Unique words: <span id="uniqueCount">0</span>
</div>
  <input id="search" placeholder="Search wordâ€¦" onkeydown="if(event.key==='Enter') searchText()">
  <button onclick="searchText()">Search</button>
  <button onclick="copySelected()">Copy Selected</button>
  <button onclick="clearSearch()">Clear</button>
</div>

<!-- ðŸ“ Paste text here -->
<textarea id="textInput" placeholder="Paste your text here..."></textarea>

<!-- ðŸ“Š Grid output -->
<div id="grid"></div>

<script>
/* ðŸ”§ Setup elements */
const textInput = document.getElementById('textInput');
const gridDiv = document.getElementById('grid');

/* ðŸ§  Build grid automatically when text changes */
textInput.addEventListener('input', makeGrid);

function makeGrid() {
  const txt = textInput.value.trim();
  const tokens = txt.match(/[\w']+|[^\s\w]+/g) || [];
  const cols = 5;
  let html = '<table><tbody>';
  for (let i = 0; i < tokens.length; i++) {
    if (i % cols === 0) html += '<tr>';
    html += `<td onclick="this.classList.toggle('selected')">${tokens[i]}</td>`;
    if (i % cols === cols - 1) html += '</tr>';
  }
  html += '</tbody></table>';
  gridDiv.innerHTML = html;
}

/* ðŸ” Highlight search matches */
function searchText() {
  clearHighlights();
  const term = document.getElementById('search').value.trim();
  if (!term) return;
  const cells = document.querySelectorAll('#grid td');
  let firstMatch = null;
  cells.forEach(td => {
    if (td.textContent.toLowerCase().includes(term.toLowerCase())) {
      td.classList.add('highlighted');
      if (!firstMatch) firstMatch = td;
    }
  });
  if (firstMatch) firstMatch.scrollIntoView({ behavior: 'smooth', block: 'center' });
}

/* ðŸ§¼ Clear highlighting */
function clearHighlights() {
  document.querySelectorAll('#grid td.highlighted').forEach(td => td.classList.remove('highlighted'));
}

function clearSearch() {
  document.getElementById('search').value = '';
  clearHighlights();
}

/* ðŸ“‹ Copy selected tokens */
function copySelected() {
  const selected = [...document.querySelectorAll('#grid td.selected')];
  const text = selected.map(td => td.textContent).join(' ');
  if (!text) {
    alert('No cells selected.');
    return;
  }
  navigator.clipboard.writeText(text);
  alert(`Copied ${selected.length} token(s).`);
}
  
  
  function countWords() {
  const text = document.getElementById('textInput').value.trim();

  // Split into words (letters, digits, or apostrophes)
  const words = text.match(/[\w']+/g) || [];

  // Total word count
  const total = words.length;

  // Unique word count
  const unique = new Set(words.map(w => w.toLowerCase())).size;

  // Display results
  document.getElementById('totalCount').textContent = total;
  document.getElementById('uniqueCount').textContent = unique;
}
  
  
</script>

</body>
  </html>
